(function(e){function t(t){for(var n,s,a=t[0],l=t[1],c=t[2],u=0,h=[];u<a.length;u++)s=a[u],Object.prototype.hasOwnProperty.call(o,s)&&o[s]&&h.push(o[s][0]),o[s]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(e[n]=l[n]);d&&d(t);while(h.length)h.shift()();return r.push.apply(r,c||[]),i()}function i(){for(var e,t=0;t<r.length;t++){for(var i=r[t],n=!0,a=1;a<i.length;a++){var l=i[a];0!==o[l]&&(n=!1)}n&&(r.splice(t--,1),e=s(s.s=i[0]))}return e}var n={},o={app:0},r=[];function s(t){if(n[t])return n[t].exports;var i=n[t]={i:t,l:!1,exports:{}};return e[t].call(i.exports,i,i.exports,s),i.l=!0,i.exports}s.m=e,s.c=n,s.d=function(e,t,i){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(s.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)s.d(i,n,function(t){return e[t]}.bind(null,n));return i},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/";var a=window["webpackJsonp"]=window["webpackJsonp"]||[],l=a.push.bind(a);a.push=t,a=a.slice();for(var c=0;c<a.length;c++)t(a[c]);var d=l;r.push([0,"chunk-vendors"]),i()})({0:function(e,t,i){e.exports=i("56d7")},"56d7":function(e,t,i){"use strict";i.r(t);i("e260"),i("e6cf"),i("cca6"),i("a79d");var n=i("7a23"),o={id:"app"},r=Object(n["d"])("h1",null,"Snake Game",-1),s={class:"column"},a=Object(n["c"])(" cell Size (px): "),l={class:"column"},c=Object(n["c"])(" Border Size (px): "),d={class:"column"},u=Object(n["c"])(" Speed: ");function h(e,t,i,h,b,p){var f=Object(n["f"])("SnakeCanvas");return Object(n["e"])(),Object(n["b"])("div",o,[r,Object(n["d"])("div",s,[a,Object(n["i"])(Object(n["d"])("input",{type:"number",min:"10","onUpdate:modelValue":t[1]||(t[1]=function(e){return b.CellSize=e})},null,512),[[n["h"],b.CellSize,void 0,{number:!0}]])]),Object(n["d"])("div",l,[c,Object(n["i"])(Object(n["d"])("input",{type:"number",min:"10","onUpdate:modelValue":t[2]||(t[2]=function(e){return b.boardSize=e})},null,512),[[n["h"],b.boardSize,void 0,{number:!0}]])]),Object(n["d"])("div",d,[u,Object(n["i"])(Object(n["d"])("input",{type:"number",min:"5","onUpdate:modelValue":t[3]||(t[3]=function(e){return b.speed=e})},null,512),[[n["h"],b.speed,void 0,{number:!0}]])]),Object(n["d"])(f,{cellSize:b.CellSize,boardSize:b.boardSize,speed:b.speed,isplaying:b.isplaying,stop:p.stop,addScores:p.addScores,score:b.score},null,8,["cellSize","boardSize","speed","isplaying","stop","addScores","score"]),Object(n["d"])("div",null,"Scores: "+Object(n["g"])(b.score),1),Object(n["d"])("div",null,[Object(n["d"])("button",{id:"play-btn",onClick:t[4]||(t[4]=function(e){return b.isplaying?p.stop():p.start()})},Object(n["g"])(b.isplaying?"Stop":"Play"),1)])])}var b=Object(n["j"])("data-v-cd40b30c"),p=b((function(e,t,i,o,r,s){return Object(n["e"])(),Object(n["b"])("canvas",{ref:"board",id:"snake-canvas",width:s.boardSizepx,height:s.boardSizepx},null,8,["width","height"])})),f=(i("cb29"),i("4de4"),i("7db0"),i("4160"),i("a9e3"),i("159b"),[{direction:"left",keyCode:37,move:{x:-1,y:0}},{direction:"top",keyCode:38,move:{x:0,y:-1}},{direction:"right",keyCode:39,move:{x:1,y:0}},{direction:"bottom",keyCode:40,move:{x:0,y:1}}]),y={name:"SnakeCanvas",props:{cellSize:Number,boardSize:Number,speed:Number,isplaying:Boolean,stop:Function,addScores:Function,score:Number},computed:{boardSizepx:function(){return this.boardSize*this.cellSize}},mounted:function(){this.boardContext=this.$refs.board.getContext("2d"),window.addEventListener("keydown",this.onKeyPress)},created:function(){this.resetsnake()},beforeUnmount:function(){window.removeEventListener("keydown",this.onKeyPress)},watch:{isplaying:function(e){this.clear(),e&&(this.resetsnake(),this.move())}},methods:{resetsnake:function(){this.snake=[{x:this.getmiddlecell(),y:this.getmiddlecell()}];var e=Math.floor(4*Math.random());this.direction=f[e],this.targetCell=null},getmiddlecell:function(){return Math.round(this.boardSize/2)},move:function(){if(this.isplaying){this.clear(),this.setTargetCell();var e={x:this.snake[0].x+this.direction.move.x,y:this.snake[0].y+this.direction.move.y};(this.isCellOutofBoard(e)||this.amountCellInSnake(this.snake[0])>1)&&(this.stop(),alert("Game Over! Yov've scored ".concat(this.score," points."))),this.isTargetNewHead()?(this.snake.unshift(this.targetCell),this.targetCell=null,this.addScores(this.speed)):(this.snake.pop(),this.snake.unshift(e)),this.boardContext.beginPath(),this.snake.forEach(this.drawCell),this.boardContext.closePath(),setTimeout(this.move,this.getMoveDelay())}},clear:function(){this.boardContext.clearRect(0,0,this.boardSizepx,this.boardSizepx)},drawCell:function(e){var t=e.x,i=e.y;this.boardContext.rect(t*this.cellSize,i*this.cellSize,this.cellSize,this.cellSize),this.boardContext.fillStyle="black",this.boardContext.fill()},getMoveDelay:function(){return 2/Number(this.speed)*1e3},isCellOutofBoard:function(e){var t=e.x,i=e.y;return t<0||i<0||t>=this.boardSize||i>=this.boardSize},onKeyPress:function(e){var t=f.find((function(t){return t.keyCode===e.keyCode}));t&&2!==Math.abs(t.keyCode-this.direction.keyCode)&&(this.direction=t)},setTargetCell:function(){if(!this.targetCell){var e=this.getRandomCell();while(this.amountCellInSnake(e)>0)e=this.getRandomCell;this.targetCell=e}this.boardContext.beginPath(),this.boardContext.rect(this.targetCell.x*this.cellSize,this.targetCell.y*this.cellSize,this.cellSize,this.cellSize),this.boardContext.fillStyle="red",this.boardContext.fill(),this.boardContext.closePath()},getRandomCell:function(){return{x:Math.floor(Math.random()*this.boardSize),y:Math.floor(Math.random()*this.boardSize)}},amountCellInSnake:function(e){return this.snake.filter((function(t){var i=t.x,n=t.y;return i===e.x&&n===e.y})).length},isTargetNewHead:function(){return this.snake[0].x+this.direction.move.x===this.targetCell.x&&this.snake[0].y+this.direction.move.y===this.targetCell.y}}};i("9007");y.render=p,y.__scopeId="data-v-cd40b30c";var m=y,v={name:"App",components:{SnakeCanvas:m},data:function(){return{CellSize:10,boardSize:30,speed:10,score:0,isplaying:!1}},methods:{start:function(){this.isplaying=!0},stop:function(){this.isplaying=!1,this.score=0},addScores:function(e){this.score+=e/2*5}}};i("64be");v.render=h;var S=v;Object(n["a"])(S).mount("#app")},"5ed5":function(e,t,i){},"64be":function(e,t,i){"use strict";i("c894")},9007:function(e,t,i){"use strict";i("5ed5")},c894:function(e,t,i){}});
//# sourceMappingURL=app.70bfce8d.js.map